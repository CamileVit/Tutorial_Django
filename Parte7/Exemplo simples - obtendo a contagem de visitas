# Obtendo o valor da chave 'num_visits' da sessão, configurando para 0 se não existir.
num_visits = request.session.get('num_visits', 0)

# Incrementando o valor de 'num_visits' e armazenando-o novamente na sessão.
request.session['num_visits'] = num_visits + 1

# Passando 'num_visits' para o contexto para ser usado no template.
context = {
    'num_books': num_books,
    'num_instances': num_instances,
    'num_instances_available': num_instances_available,
    'num_authors': num_authors,
    'num_visits': num_visits,
}
